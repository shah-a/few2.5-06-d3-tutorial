import{r as u,s as g,j as d,b as x,e as p,l as y,o as b,P as v,a as N,c as j,d as w,R as A,f as R}from"./vendor.88eda850.js";const S=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}};S();const L=(o,a)=>{const n=u.exports.useRef();return u.exports.useEffect(()=>{o(g(n.current))},a),n},c=d.exports.jsx,B=d.exports.jsxs;function C({data:o}){return c("div",{className:"BarChart",children:B("svg",{className:"svg",ref:L(n=>{const s=800,e=500,t={top:20,right:30,bottom:30,left:80},i=x().domain(o.map(r=>r.label)).rangeRound([t.left,s-t.right]).padding(.125);console.log(p(o,r=>r.population));const l=y().domain(p(o,r=>r.population)).rangeRound([e-t.bottom,t.top]).nice(),f=b().domain([...new Set(o.map(r=>r.country))]).range(v),m=N(i),h=j(l);n.select("g.x-axis").attr("transform",`translate(0, ${e-t.bottom})`).call(m),n.select("g.y-axis").attr("transform",`translate(${t.left}, 0)`).call(h),n.select("g.plot-area").selectAll(".bar").data(o).enter().append("rect").attr("class","bar").attr("x",r=>i(r.label)).attr("y",r=>l(r.population)).attr("width",i.bandwidth()).attr("height",r=>l(0)-l(r.population)).attr("fill",r=>f(r.country))},[o.length]),width:"800",height:"500",children:[c("g",{className:"x-axis"}),c("g",{className:"y-axis"}),c("g",{className:"plot-area"})]})})}function O(){const[o,a]=u.exports.useState([]),n=s=>(s.population=+s.population,s);return u.exports.useEffect(()=>{w("./cities.csv",n).then(s=>{s.sort((e,t)=>e.country>t.country?1:e.country<t.country?-1:0),a(s)})},[]),c("div",{className:"App",children:c(C,{data:o})})}A.render(c(R.StrictMode,{children:c(O,{})}),document.getElementById("root"));
